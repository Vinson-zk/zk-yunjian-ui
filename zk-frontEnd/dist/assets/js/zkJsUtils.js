!function(e){Array.prototype.indexOf=function(e,r){for(let t=0;t<this.length;t++)if(r instanceof Function){if(0===r(e,this[t]))return t}else if(this[t]==e)return t;return-1},Array.prototype.valueOf=function(e,r){let t=[];for(let n=0;n<this.length;n++)r instanceof Function?0===r(e,this[n])&&t.push(this[n]):this[n]==e&&t.push(this[n]);return t},Array.prototype.remove=function(e){let r=this.indexOf(e);r>-1&&this.splice(r,1)},Array.prototype.replace=function(e,r){let t=this.indexOf(e);t>-1&&(this[t]=r)},Array.prototype.countValue=function(e,r){let t=0;for(let n=0;n<this.length;n++)r instanceof Function?0==r(e,this[n])&&++t:this[n]==e&&++t;return t},Array.prototype.removeSameValue=function(e){for(let r=0;r<this.length;++r)for(;this.countValue(this[r],e)>1;)this.remove(this[r])},Array.prototype.notIn=function(e=[],r){let t=[];for(let n of this)-1==e.indexOf(n,r)&&t.push(n);return t};const r=(e,r)=>{let t=new RegExp(`(^|&)${r}=([^&]*)(&|$)`,"i"),n=(e=e.substr(e.indexOf("?"))).substr(1).match(t);return null!=n?decodeURI(n[2]):null},t={characters:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",decode:function(e){t.characters;let r="",n=0;do{let i=t.characters.indexOf(e.charAt(n++)),c=t.characters.indexOf(e.charAt(n++)),h=t.characters.indexOf(e.charAt(n++)),o=(63&i)<<2|c>>4&3,l=(15&c)<<4|h>>2&15,s=(3&h)<<6|63&t.characters.indexOf(e.charAt(n++));r+=String.fromCharCode(o)+(l?String.fromCharCode(l):"")+(s?String.fromCharCode(s):"")}while(n<e.length);return r}},n=e=>null===e||""===e||void 0===e,i=(e,r,t="pkId",c="parentId")=>{let h=[],o=[];return e instanceof Array&&(void 0===r?(e.forEach((r=>{-1==e.findIndex((e=>e[t]==r[c]))?h.push(r):o.push(r)})),h.forEach((e=>{e.children=i(o,e[t]),e.children&&e.children.length<1&&(e.children=void 0)}))):(h=e.filter((e=>n(e[c])&&null===r||e[c]==r)),h.forEach((r=>{r.children=i(e,r[t]),r.children&&r.children.length<1&&(r.children=void 0)})))),h},c=(e,r)=>{let t=[];for(let n of e){if(n.pkId==r)return t.push(n),t;if(n.children instanceof Array&&(t=c(n.children,r),t.length>0))return t.push(n),t}return t},h=(e=[],r)=>{let t=[],n=e=>{let r=[];for(let t of e)t.children&&t.children.length>0&&(r=r.concat(t.children),r=r.concat(n(t.children)));return r};for(let i of e)i.pkId==r?(t.push(i),i.children&&i.children.length>0&&(t=t.concat(i.children),t=t.concat(n(i.children)))):i.children instanceof Array&&(t=t.concat(h(i.children,r)));return t},o=(e,r)=>{let t=[];for(let n of e)n.pkId==r&&t.push(n),n.children instanceof Array&&(t=t.concat(o(n.children,r)));return t},l=(e,r)=>{let t=null;for(let n of e){if(n.pkId==r)return n;if(n.children instanceof Array&&(t=l(n.children,r),null!=t))return t}return null},s=(e,r)=>n(e.sort)||n(r.sort)?0:1*e.sort-1*r.sort,a=(e,r=1,t,n=1)=>{t=t||s;let i=[];if(e instanceof Array&&e.length>0){let c=null;for(;e.length>1;){c=e[0];let r=[];for(let n=1;n<e.length;++n)t(c,e[n])<0?r.push(e[n]):(r.push(c),c=e[n]);e=r,i.push(c)}if(c=e[0],i.push(c),1==n)for(c of i)c.children&&(c.children=a(c.children,r,t,n))}return r>0?i:i.reverse()},f={queryURL:r,base64Decode:e=>t.decode(e),removeObjUnAttr:e=>{for(let r in e)e[r]||delete e[r];return e},isEmpty:n,strToObj:e=>e instanceof Array?e.map((e=>JSON.parse(e))):JSON.parse(e),objToStr:e=>e?JSON.stringify(e):void 0,redirectUrl:(e,t,i,c,h,o)=>{if(!c)return;let l=!0;const s=e.pathname;l=!1;for(let e of o)if(new RegExp("^"+e+"*$").test(s)){l=!0;break}if(l){let e=r("from");i=n(e)?"/":e}l&&t(i)},makeTree:i,findTreeChild:h,findTreeParent:c,findNodesByTree:o,findByTree:l,getLang:e=>{switch((e=n(e)?"zh-CN":e).toLowerCase()){case"zh":case"zh-cn":case"zh_cn":case"zh-CN":case"zh_CN":case"zh-hans-cn":return"zh-CN";case"zh-TW":case"zh-HK":case"zh-MO":case"zh-SG":case"zh_TW":case"zh_HK":case"zh_MO":case"zh_SG":return"zh-TW";default:return"en-US"}},strReplace:(e,r)=>{if("string"==typeof e&&r instanceof Object)for(let t in r)e=e.replace("{"+t+"}",r[t]);return e},getJsonAttr:(e,r)=>{let t="";if(n(t))try{t=e[r]}catch(e){t=""}if(n(t))try{t=JSON.parse(e)[r]}catch(e){t=""}return t},sort:a};e.zkJsUtils=f}("undefined"!=typeof window?window:this);